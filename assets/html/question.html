<!DOCTYPE html>
<html>
<head>
    <style>
        body { font-family: sans-serif; background: #222; color: white; text-align: center; padding: 15px; }
        .lang-switch { margin-bottom: 20px; }
        .lang-btn { background: #555; font-size: 0.8em; padding: 5px 10px; }
        .question-box { margin-bottom: 25px; border-bottom: 1px solid #444; padding-bottom: 15px; }
        .question-text { font-weight: bold; margin-bottom: 10px; display: block; }
        button { padding: 10px 15px; margin: 5px; cursor: pointer; border: none; border-radius: 5px; font-weight: bold; min-width: 100px; }
        
        /* Farben fÃ¼r die 3 Antwort-Stufen */
        .btn-yes { background-color: #28a745; color: white; } /* Auf jeden Fall */
        .btn-maybe { background-color: #ffc107; color: black; } /* Eher ja */
        .btn-no { background-color: #dc3545; color: white; } /* Eher nein */
        
        #thanks { display: none; color: #ffc107; font-size: 1.5em; margin-top: 50px; }
        .hidden { display: none; }
		
		button:hover {
    filter: brightness(1.1); /* Leuchtet leicht auf beim DrÃ¼berfahren */
    transform: translateY(-1px); /* Bewegt sich minimal hoch */
}

button:active {
    transform: translateY(2px); /* DrÃ¼ckt sich beim Klick 2px nach unten */
    filter: brightness(0.9); /* Wird kurz dunkler */
    box-shadow: inset 0 3px 5px rgba(0,0,0,0.2); /* Innenschatten fÃ¼r "Tiefe" */
}

/* Visuelle BestÃ¤tigung: Den gewÃ¤hlten Button markieren */
.selected {
    outline: 3px solid white;
    box-shadow: 0 0 10px rgba(255,255,255,0.5);
    transform: scale(1.05);
}
    </style>
</head>
<body>

    <div id="lang-select" class="lang-switch">
        <button class="lang-btn" onclick="setLanguage('de')">Deutsch ðŸ‡©ðŸ‡ª</button>
        <button class="lang-btn" onclick="setLanguage('en')">English ðŸ‡ºðŸ‡¸</button>
    </div>

    <div id="survey" class="hidden">
        <div class="question-box">
            <span id="q1-text" class="question-text"></span><br>
            <button class="btn-yes" onclick="next(1, 'Auf jeden Fall')"><span class="a1"></span></button>
            <button class="btn-maybe" onclick="next(1, 'Eher ja')"><span class="a2"></span></button>
            <button class="btn-no" onclick="next(1, 'Eher nein')"><span class="a3"></span></button>
        </div>

        <div class="question-box">
            <span id="q2-text" class="question-text"></span><br>
            <button class="btn-yes" onclick="next(2, 'Auf jeden Fall')"><span class="a1"></span></button>
            <button class="btn-maybe" onclick="next(2, 'Eher ja')"><span class="a2"></span></button>
            <button class="btn-no" onclick="next(2, 'Eher nein')"><span class="a3"></span></button>
        </div>

        <div class="question-box">
            <span id="q3-text" class="question-text"></span><br>
            <button class="btn-yes" onclick="saveAndFinish('Auf jeden Fall')"><span class="a1"></span></button>
            <button class="btn-maybe" onclick="saveAndFinish('Eher ja')"><span class="a2"></span></button>
            <button class="btn-no" onclick="saveAndFinish('Eher nein')"><span class="a3"></span></button>
        </div>
		<div class="question-box">
            <span id="q4-text" class="question-text"></span><br>
            <button class="btn-yes" onclick="saveAndFinish('Auf jeden Fall')"><span class="a1"></span></button>
            <button class="btn-maybe" onclick="saveAndFinish('Eher ja')"><span class="a2"></span></button>
            <button class="btn-no" onclick="saveAndFinish('Eher nein')"><span class="a3"></span></button>
        </div>
    </div>

    <div id="thanks"></div>

    <script>
        const scriptURL = "https://script.google.com/macros/s/AKfycbwPQEVTV7u4VHnLSUXjfJoqOpq3djLD9r60U52Tp6a6hiPCW1GjvRtyNS5ZWLW5s-jG/exec"; // <--- HIER DEINE URL EINTRAGEN
        let currentLang = 'de';
        let antworten = { frage1: "", frage2: "", frage3: "", sprache: "" };

        const translations = {
            de: {
                q1: "1. FÃ¼hlen Sie sich jetzt weniger gestresst als vor der Meditation?",
                q2: "2. Hat Ihnen die Meditation gehollfen, sich zu entspannen?",
                q3: "3. WÃ¼rden Sie erneut eine Meditation durchfÃ¼hren?",
				q4: "4. WÃ¼rden Sie diese Erfahrung weiterempfehlen?",
                a1: "Auf jeden Fall",
                a2: "Eher ja",
                a3: "Eher nein",
                sending: "Sende Daten...",
                done: "Vielen Dank fÃ¼r dein Feedback!",
                error: "Fehler beim Senden."
            },
            en: {
                q1: "1. Do you feel less stressed now than before the meditation?",
                q2: "2. Did the meditaiton help you to relax",
                q3: "3. Would you do a meditation like this again?",
				q4: "4. Would you recommend this experience to others?",
                a1: "Definitely",
                a2: "Mostly yes",
                a3: "Mostly no",
                sending: "Sending data...",
                done: "Thank you for your feedback!",
                error: "Error sending data."
            }
        };
function next(q, ansKey, btnElement) {
    // 1. Alle Buttons dieser Frage-Box finden und Markierung entfernen
    const parent = btnElement.parentElement;
    parent.querySelectorAll('button').forEach(b => b.classList.remove('selected'));
    
    // 2. Den geklickten Button markieren
    btnElement.classList.add('selected');

    // 3. Deine bestehende Logik
    antworten["frage" + q] = translations[currentLang]["a" + (ansKey === 'Auf jeden Fall' ? '1' : ansKey === 'Eher ja' ? '2' : '3')];
    console.log("Q" + q + " saved");
}
        function setLanguage(lang) {
            currentLang = lang;
            antworten.sprache = lang;
            
            // UI Texte anpassen
            document.getElementById('q1-text').innerText = translations[lang].q1;
            document.getElementById('q2-text').innerText = translations[lang].q2;
            document.getElementById('q3-text').innerText = translations[lang].q3;
			document.getElementById('q4-text').innerText = translations[lang].q4;
            
            // Button Texte anpassen
            document.querySelectorAll('.a1').forEach(el => el.innerText = translations[lang].a1);
            document.querySelectorAll('.a2').forEach(el => el.innerText = translations[lang].a2);
            document.querySelectorAll('.a3').forEach(el => el.innerText = translations[lang].a3);
            
            // Wechsel zum Fragebogen
            document.getElementById('lang-select').classList.add('hidden');
            document.getElementById('survey').classList.remove('hidden');
        }

        function next(q, ansKey) {
            // Wir speichern immer den deutschen Key oder den Ã¼bersetzten Text
            antworten["frage" + q] = translations[currentLang]["a" + (ansKey === 'Auf jeden Fall' ? '1' : ansKey === 'Eher ja' ? '2' : '3')];
            console.log("Q" + q + " saved");
        }

        async function saveAndFinish(ansKey) {
            next(3, ansKey); // Letzte Antwort speichern

            document.getElementById('survey').style.display = 'none';
            document.getElementById('thanks').innerText = translations[currentLang].sending;
            document.getElementById('thanks').style.display = 'block';

            try {
                await fetch(scriptURL, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify(antworten),
                    headers: { 'Content-Type': 'application/json' }
                });
                document.getElementById('thanks').innerText = translations[currentLang].done;
            } catch (e) {
                document.getElementById('thanks').innerText = translations[currentLang].error;
            }
        }
    </script>
</body>
</html>
